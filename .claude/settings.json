{
  "_comment": "Project-level Claude Code settings. For local user-specific permissions, create settings.local.json (git-ignored)",
  "permissions": {
    "allow": [
      "Read(file:/tmp/kagenti/**)",
      "Edit(file:/tmp/kagenti/**)",
      "Write(file:/tmp/kagenti/**)",
      "Bash(mkdir -p /tmp/kagenti:*)",

      "Edit(file:.claude/**)",
      "Write(file:.claude/**)",
      "Edit(file:docs/**)",
      "Write(file:docs/**)",

      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(git fetch:*)",
      "Bash(git rev-parse:*)",
      "Bash(git ls-files:*)",
      "Bash(git check-ignore:*)",

      "Bash(kubectl get:*)",
      "Bash(kubectl describe:*)",
      "Bash(kubectl logs:*)",
      "Bash(kubectl top:*)",
      "Bash(kubectl config:*)",
      "Bash(kubectl cluster-info:*)",
      "Bash(kubectl api-resources:*)",
      "Bash(kubectl explain:*)",
      "Bash(kubectl auth can-i:*)",

      "Bash(helm list:*)",
      "Bash(helm status:*)",
      "Bash(helm get:*)",
      "Bash(helm show:*)",
      "Bash(helm template:*)",
      "Bash(helm history:*)",
      "Bash(helm search:*)",

      "Bash(oc get:*)",
      "Bash(oc describe:*)",
      "Bash(oc logs:*)",
      "Bash(oc whoami:*)",
      "Bash(oc project:*)",
      "Bash(oc api-resources:*)",
      "Bash(oc auth can-i:*)",

      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh pr diff:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue view:*)",
      "Bash(gh run list:*)",
      "Bash(gh run view:*)",
      "Bash(gh repo view:*)",
      "Bash(gh search:*)",

      "Bash(docker images:*)",
      "Bash(docker ps:*)",
      "Bash(docker inspect:*)",
      "Bash(docker logs:*)",
      "Bash(docker stats:*)",
      "Bash(docker network ls:*)",
      "Bash(docker volume ls:*)",

      "Bash(kind get:*)",
      "Bash(ollama list:*)",
      "Bash(ollama ps:*)",

      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(tree:*)",
      "Bash(wc:*)",
      "Bash(which:*)",
      "Bash(pwd:*)",
      "Bash(env:*)",
      "Bash(echo:*)",
      "Bash(date:*)",
      "Bash(whoami:*)",

      "Bash(make lint:*)",
      "Bash(make test:*)",
      "Bash(make check:*)",
      "Bash(make build:*)",
      "Bash(uv run pytest:*)",
      "Bash(uv run ruff:*)",
      "Bash(uv pip list:*)",
      "Bash(uv pip show:*)",
      "Bash(pre-commit run:*)",

      "Bash(jq:*)",
      "Bash(yq:*)",
      "Bash(curl -s:*)",
      "Bash(aws sts get-caller-identity:*)",
      "Bash(aws ec2 describe-instances:*)",
      "Bash(aws ec2 describe-vpcs:*)",

      "Bash(export KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig && kubectl:*)",
      "Bash(export KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig && oc:*)",
      "Bash(export KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig && helm:*)",
      "Bash(export KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig && uv run pytest:*)",
      "Bash(bash -c 'export KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig && *')",

      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig oc:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig helm:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig uv run pytest:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig ./.github/scripts/local-setup/hypershift-full-test.sh:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig .worktrees/*/.github/scripts/local-setup/hypershift-full-test.sh:*)",

      "Bash(cd .worktrees/* && KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig ./.github/scripts/local-setup/hypershift-full-test.sh:*)",

      "Bash(.worktrees/*/github/scripts/local-setup/hypershift-full-test.sh:*)",
      "Bash(.github/scripts/local-setup/hypershift-full-test.sh:*)",
      "Bash(.github/scripts/local-setup/kind-full-test.sh:*)",

      "Bash(kubectl apply:*)",
      "Bash(kubectl delete pod:*)",
      "Bash(kubectl delete deployment:*)",
      "Bash(kubectl rollout restart:*)",
      "Bash(kubectl rollout status:*)",
      "Bash(kubectl exec:*)",
      "Bash(kubectl patch:*)",
      "Bash(kubectl create:*)",
      "Bash(kubectl wait:*)",
      "Bash(kubectl port-forward:*)",
      "Bash(kubectl run:*)",
      "Bash(kubectl scale:*)",
      "Bash(kubectl label:*)",
      "Bash(kubectl annotate:*)",

      "Bash(helm upgrade:*)",
      "Bash(helm install:*)",
      "Bash(helm dependency:*)",

      "Bash(oc apply:*)",
      "Bash(oc delete pod:*)",
      "Bash(oc delete deployment:*)",
      "Bash(oc rollout:*)",
      "Bash(oc exec:*)",
      "Bash(oc patch:*)",

      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl apply:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl delete:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl rollout:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl exec:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl patch:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl create:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl wait:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl port-forward:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl run:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig kubectl scale:*)",

      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig helm upgrade:*)",
      "Bash(KUBECONFIG=*/clusters/hcp/kagenti-hypershift-custom-*/auth/kubeconfig helm install:*)",

      "Bash(docker exec:*)",
      "Bash(docker build:*)",
      "Bash(kind create cluster:*)",
      "Bash(npm:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(pip install:*)",
      "Bash(uv sync:*)",
      "Bash(uv lock:*)",
      "Bash(uv run:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git worktree:*)",
      "Bash(ansible-galaxy:*)"
    ],
    "_comment_deny": "kind delete cluster removed to auto-approve Kind lifecycle for TDD. HyperShift cluster create/destroy still requires approval through the management cluster.",
    "deny": [
      "Bash(rm -rf:*)",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Bash(git reset --hard:*)",
      "Bash(kubectl delete -A:*)",
      "Bash(docker rm -f:*)",
      "Bash(docker system prune:*)",
      "Bash(aws ec2 terminate-instances:*)",
      "Bash(aws ec2 delete-vpc:*)",
      "Bash(chmod 777:*)",
      "Bash(sudo:*)",
      "Bash(gh pr merge:*)"
    ]
  }
}
