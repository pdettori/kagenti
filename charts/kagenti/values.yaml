# Global settings
openshift: true

# ------------------------------------------------------------------
#  Control Panel: Enable or disable components here
# ------------------------------------------------------------------
components:
  agentNamespaces:
    enabled: true
  mcpGateway:
    enabled: true
  platformOperator:
    enabled: true
  ui:
    enabled: true
  istio:
    enabled: true  

# Environment variables for secrets - they should be overriden by a .secrets.yaml file
# or by using --set secrets.githubUser="" etc.
secrets:
  githubUser: ""
  githubToken: ""
  openaiApiKey: ""
  slackBotToken: ""
  adminSlackBotToken: ""
  quayUser: ""
  quayToken: ""

common:
  kubectlImage: "quay.io/kubestellar/kubectl:1.30.14"

# ------------------------------------------------------------------
#  Components Configurations
# ------------------------------------------------------------------

# ------------------------------------------------------------------
#  Agents Namespaces
# ------------------------------------------------------------------
agentNamespaces:
- team1
- team2

# ------------------------------------------------------------------
#  UI Configuration
# ------------------------------------------------------------------
ui:
  configmap: kagenti-ui-config
  auth:
    enabled: false
  namespace: kagenti-system
  image: ghcr.io/kagenti/kagenti/ui
  tag: v0.1.0-alpha.7
  hostname: kagenti-ui.localtest.me
  url: http://kagenti-ui.localtest.me:8080

# ------------------------------------------------------------------
#  UI OAuth Secret Creator Configuration
# ------------------------------------------------------------------
uiOAuthSecret:
  image: ghcr.io/kagenti/kagenti/ui-oauth-secret
  tag: latest
  # When true, mount the in-cluster serviceaccount CA into UI pods and
  # into the ui-oauth-secret job via the SSL_CERT_FILE environment variable.
  # Defaults to false because the serviceaccount CA is for the API server
  # and will usually not validate external OpenShift route certificates.
  useServiceAccountCA: true

# ------------------------------------------------------------------
#  Keycloak Configuration
# ------------------------------------------------------------------
keycloak:
  namespace: keycloak
  adminSecretName: keycloak-initial-admin
  adminUsernameKey: username
  adminPasswordKey: password
  url: http://keycloak.keycloak:8080
  publicUrl: http://keycloak.localtest.me:8080

# ------------------------------------------------------------------
#  Platform Operator Configuration
# ------------------------------------------------------------------
kagenti-platform-operator-chart:
  controllerManager:
    container:
      args:
      - "--leader-elect"
      - "--metrics-bind-address=:8443"
      - "--health-probe-bind-address=:8081"
      - "--webhook-cert-path=/tmp/k8s-webhook-server/serving-certs"
      - "--enable-client-registration=false"
      resources:
        limits:
          memory: 512Mi

# ------------------------------------------------------------------
#  MCP Gateway Configuration
# ------------------------------------------------------------------
# subchart configs
mcp-gateway:
  fullnameOverride: mcp
  envoyFilter:
    namespace: istio-system
  image:  
    tag: v0.2
# main chart configs    
mcpGateway:
  namespaces:
    mcpSystem: mcp-system
    gatewaySystem: gateway-system

# ------------------------------------------------------------------
#  Spiffe/Spire configs
# ------------------------------------------------------------------
spire:
  enabled: true