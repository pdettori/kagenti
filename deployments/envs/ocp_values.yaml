# Kagenti minimal installation configuration
# Auth is enabled in this config

####################################################################
# Toolhive - MCP server operator (must be at root level for Ansible installer)
####################################################################
toolhiveCRDs:
  enabled: true
  version: "0.0.83"

toolhiveOperator:
  enabled: true
  version: "0.5.12"
  release_name: toolhive-operator
  namespace: toolhive-system

charts:
  #################################################################### 
  # kagenti-deps 
  ####################################################################
  kagenti-deps:
    enabled: true
    values:
      openshift: true
      components:
        mcpInspector:
          enabled: true
        istio:
          enabled: true
        kiali:
          enabled: true  
        keycloak:
          enabled: true
        otel:
          enabled: true
        spire:
          enabled: true  # Use ZTWIM operator for OCP 4.19+
        tekton:
          enabled: true
        shipwright:
          enabled: true
        toolhiveCRDs:
          enabled: true
        toolhiveOperator:
          enabled: true
        certManager:
          enabled: true  
        gatewayApi:  
          enabled: false
        toolhive:
          enabled: true

  #################################################################### 
  # kagenti 
  ####################################################################        
  kagenti:
    enabled: true
    values:
      openshift: true
      components:
        agentNamespaces:
          enabled: true
        platformOperator:
          enabled: true
        ui:
          enabled: true
        # additional artifacts required by MCP gateway   
        mcpGateway:
          enabled: true
        istio:
          enabled: false    
      # configs    
      ui:      
        auth:
          enabled: true
      uiOAuthSecret:
        # for a OCP with self-signed certs for routes it should be true.
        # for a OCP with CA-signed certs for routes it should be false.
        useServiceAccountCA: true
      keycloak:
        url: http://keycloak-service.keycloak:8080

  ####################################################################
  # mcp-gateway chart
  ####################################################################
  mcpGateway:
    enabled: true

  ####################################################################
  # spire - On OpenShift, ZTWIM operator is used (configured in kagenti-deps)
  # Helm-based SPIRE is automatically skipped on OpenShift
  ####################################################################
  spire:
    enabled: false  # Helm SPIRE disabled; ZTWIM operator used via kagenti-deps
